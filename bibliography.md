# Historical dance bibliography: Documentation

## Информация о структуре базы данных

Согласно соглашениям, наследованным от библиографических стилей `ГОСТ 7.0.5-2008` имя автора и другие метаданные указываются на языке, локальном к месту издания книги на момент её издания (метаданные русскоязычных книг переводятся в современную орфографию). Имена редакторов, переводчиков и комментаторов на кириллических языках указываются в родительного падеже (_перевод с английского Ивана Петровича Кузнецова_).

### Поддержка множества имён

Библиография поддерживает множество имён для одного и того же автора. Этот функционал предназначен для решения следующих проблем:

1. Используя оригинальное имя автора становится возможным поиск переводов его книг (за это отвечает поле `origauthor`).
2. Становится возможным поиск автора по его псевдониму (за это отвечает поле `pseudo_author`).
3. Становится возможным поиск автора по версии имени, которая указана на титульной странице книги или по той версии, которая сложилась в научной традиции (за это отвечает поле `altauthor`). `altauthor` прописывается только в том случае, когда известно настоящее имя автора.

В имени файла (поле `filename`) при этом может быть указано любое сочеатние этих имён.

### Особенности проставления поля `publisher`

Исторически сложилось так, что в поле `publisher` может быть указан издатель (человек, оплативший публикацию книги, но при этом не являющийся её единоличными автором). Издателя можно определить по наличию ключевых слов `herausgegeben von`, `printed for` и так далее.

Если издатель неизвестен, в поле `publisher` может быть указана типография или имя печатника, занимавшаяся печатью книги. Такие поля определяются словами `druckt`, `printed at`, printed by`, `imprimé par` и так далее.

Широко распространённой является практика, при которой на титульном листе книги указывается не издатель, а книгопродавец. Ввиду невозможности доказать причастность книгопродавца к изданию книги, данная информация не включается в библиографию.

## Особенности датировки

В поле `date` проставляется датировка конкретного экземпляра книги в соответствии с [правилами](https://github.com/hda-technical/docs/blob/master/common.md#dating). В случае с нотными изданиями, тираж которых мог допечатываться без изменения содержания, но с изменениями титульной страницы, также ставится датировка конкретного экземпляра книги.

При невозможности установить датировку экземпляра проставляется дата цензорской отметки.

Не всякое издание можно датировать точно. Зачастую с уверенностью можно назвать лишь столетие или другой доверительный интервал. Для источников, для которых точная датировка не представляется возможной, в поле `annotation` хранится информация о том, почему был выбран тот или иной доверительный интервал.

## О возможностях, не имеющих поддержки в веб-интерфейсе

1. Поиск по ключевому слову можно инвертировать, поставив перед ним восклицательный знак:
	* `keywords=waltz,quadrille` — ищет все книги про вальс И про кадрили
	* `keywords=waltz,!quadrille` — ищет все книги про вальс, но без кадрилей
	* `keywords=!waltz,!quadrille` — ищет все книги, которые не упоминают ни вальса, ни кадрилей

2. Любой поиск можно экспортировать в простенький CSV, если дописать в поиск параметр `format=csv`

## О типах записей

В библиографии выделяются следующие типы записей.

* `unpublished` — манускрипт или архивный материал, существующий в единственном экземпляре. Имеет:
	* Поле `library` с указанием института, где хранится объект (архив, библиотека или их подразделение)
	* Поле `library_location` с указанием города, в котором находится библиотека
	* Поле `library_code` с каталожным кодом объекта
* `periodical` — периодическое издание (журнал). Имеет:
	* Точную дату публикации, указанную в полях `year`, `month`, `day`.
	* Поле `number` в значении _номер журнала_ (может отсчитываться относительно начала года)
	* Поле `volume` в значении _порядковый год публикации журнала_
* `article` — статья в газете или журнале. Имеет:
	* Ссылку на соответствующий `periodical` в поле `crossref` (если журнал присутствует в библиографии)
	* Поле `pages` с указанием номеров страниц в журнале
	* Поле `journaltitle` с указанием полного названия журнала
* `proceedings` — сборник статей с конференции
* `inproceedings` — статья в сборнике статей с конференции. Имеет:
	* Ссылку на соответствующий `proceedings` в поле `crossref`
	* Поле `pages` с указанием номеров страниц в сборнике
	* Поле `booktitle` с указанием полного названия сборника
* `reference` — словарь или энциклопедия, содержащая множество независимых статей
* `mvreference` — многотомный словарь или энциклопедия. Имеет:
	* Поле `volumes` с указанием числа томов
* `thesis` — диссертация. Имеет:
	* Поле `type` с указанием степени (например, `Master of Arts Thesis`)
	* Поле `institution` с указанием учебного заведения, в котором данная диссертация была защищена
* `collection` — сборник статей разных авторов, объединённый общей тематикой, но не связанный с какой-либо конференцией
* `incollection` — статья в сборнике статей типа `collection`. Имеет:
	* Ссылку на соответствующий `collection` в поле `crossref`
	* Поле `pages` с указанием номеров страниц в сборнике
	* Поле `booktitle` с указанием полного названия сборника
* `book` — книга и прочие записи, не подходящие под другие категории (в частности, к этой категории относятся сборники нот)
* `mvbook` — многотомная книга. Имеет:
	* Поле `volumes` с указанием числа томов
* `inbook` — самостоятельная часть книги, не предполагающая независимой продажи. Как правило, имеет независимую нумерацию страниц. Имеет:
	* Ссылку на соответствующую книгу в поле `crossref`
	* Поле `booktitle` с указанием полного названия сборника
