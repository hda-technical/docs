# Historical dance bibliography: Transcriptions

Транскрипции первичных источников упрощают работу с источником и предоставляют некоторые дополнительные возможности (например, поиск по тексту источника).

Транскрипции доступны для просмотра в [веб-интерфейсе библиографии](https://bib.hda.org.ru/advanced-search?transcription=true). Транскрипции хранятся в том же [репозитории библиографии](https://github.com/hda-technical/dancebooks). Ссылки на транскрипции, находящиеся на сторонних сайтах **не добавляются в библиографию**.

## Правила, применяемые при оформлении транскрипций

Все транскрипции оформляются в оригинальной орфографии. Процедура исправления орфографии порой является нетривиальным процессом и должна осуществляться только _после_ оформления первичной транскрипции. Никакие опечатки, допущенные при наборе в тексте не исправляются, но места с опечатками можно отмечать дополнительной сноской (про оформление сносок — см. ниже). Для русскоязычных источников используется современная орфография, так как дореформенная орфография в российской библиографической науке практически не используется.

Транскрибируется только основной текст источника, включая все посвящения, вступления, комментарии. Из транскрипции исключаются: титульные страницы, содержания, выходные и другие технические данные. Из транскрипции также исключаются иллюстрации и подписи к ним, а также указания на эти иллюстрации.

Если в книге присутствует эррата, она оформляется отдельным пунктом. Ошибки, упомянутые в эррате **не вносятся в транскрипцию источника**.

## Как оформить транскрипцию?

Все транскрипции хранятся в формате [markdown](http://daringfireball.net/projects/markdown/syntax). Файл в формат markdown представляет собой обычный текстовый файл (аналогичный форматам HTML или вики-разметке). Вся разметка осуществляется при помощи добавления специальных символов. Базовые правила разметки описана по ссылке выше; кроме этого дополнительно включены расширения:

1. [footnotes](http://pythonhosted.org/Markdown/extensions/footnotes.html), 
2. [superscript](https://pypi.python.org/pypi/MarkdownSuperscript), 
3. [tables](http://pythonhosted.org/Markdown/extensions/tables.html)
4. самописное расширение для обозначения номеров страниц (см. синтаксис ниже).

*Абзацы в markdown отделяются друг от друга дополнительной пустой строкой*.

Вот сведённый воедино список символов, участвующих в разметке:

| Разметка | Производимый ею эффект |
| -------- | ---------------------- |
| `**Текст, окружённый двойными звёздочками**` | Делает текст **жирным** |
| `_Текст, окружённый подчёркиваниями_` | Выделяет текст _курсивом_ |
| `### Заголовок` | Делает текст заголовком третьего уровня. В транскрипциях не используются заголовки уровней, отличных от третьего |
| `{123}` | Проставляет номер страницы (в данном случае — 123) |
| `1^ere^` | Превращает выделенный в `^` текст в надстрочный |
| `* Элемент` | Создаёт маркированный список элементов. Элементы списков в markdown не отделяются друг от друга пустой строкой |
| `1. Элемент` | Создаёт нумерованный список элементов. Элементы списков в markdown не отделяются друг от друга пустой строкой |
| `[1]` | Создаёт указатель на сноску |
| `[1]:` | Размечает соответствующий текст сноски |
| `|` и `-` | Используется для разметки таблиц. См. [документацию по синтаксису](http://pythonhosted.org/Markdown/extensions/tables.html) и [пример](https://raw.githubusercontent.com/hda-technical/dancebooks/master/transcriptions/[1839, ru] А. Максин - Изучение бальных танцев.md) |

Блочные элементы могут быть вложены друг в друга (например, элемент списка может содержать несколько абзацев). Если вам нужна подобная разметка, обратитесь за помощью к Юрию Чернышову.

Возможно (но крайне не рекомендуется) использования HTML-разметки прямо в тексте (использование допустимо, только если требуемая разметка не может быть выражена средствами markdown).

### Ограничения, которых стоит придерживаться 

* файлы транскрипций находятся в кодировке UTF-8, используются UNIX-like окончания строк,
* в транскрипции используются только заголовки третьего уровня (те, что начинаются с трёх знаков `#`),
* номера страниц ставятся перед первым целым словом на странице (если предыдущая страница заканчивается знаком переноса, поставьте номер страницы после перенесённого слова),
* номера страниц отделяются от слов основного текста пробелом,
* номер страницы, указанный в транскрипции должен совпадать с номером, указанным в книге:
	* если для нумерации используются римские цифры, ставьте в транскрипции римские цифры,
	* опечатки в номерах страниц вносятся без исправления,
	* для нумерации страниц в манускриптах используются номера листов (только если они присутствуют в манускрипте) с суффиксами `r` и `v` (для _recto_ и _verso_ сторон листа соответственно),
	* ненумерованные страницы следует обозначить разметкой `{Page}` —
* если страница начинается с заголовка, номер страницы следует поставить сразу после `###`: `### {1} Introduction`,
* сноски следует размечать сразу после абзаца с текстом, содержащим сноску,
* номера сносок должны быть уникальны; даже если автор не использует сквозную нумерацию сносок (либо использует для сносок символ `*`)
* чтобы в размеченном тексте появились сноски, в самом конце файла нужно поставить текст-маркер `///Footnotes///`; если сносок нет, этот маркер следует опустить.

Возможны некоторые другие специфичные для отдельно взятой транскрипции ограничения.

## Технические приёмы работы с транскрипциями

Для набора текста проще всего будет воспользоваться сервисом [Google docs](https://docs.google.com/).

Чтобы просмотреть набранный текст в скомпилированном виде, можно воспользоваться:

* сервисом [github.com](https://github.com) (см. следующий пункт с подробностями)

Чтобы избежать дублирования работы и получить возможность набирать транскрипции совместно, напишите Юрию Чернышову любым удобным вам способом.

## Как добавить законченную транскрипцию в библиографию

1. Зарегистрируйте аккаунт на сайте [github.com](https://github.com).
2. Войдите в свой аккаунт.
3. Перейдите по [ссылке](https://github.com/hda-technical/dancebooks/tree/master/transcriptions)
4. 
	Нажмите на кнопку `Create new file`. Вставьте в появившееся окно содержимое вашего файла. Нажмите на кнопку `Preview`, чтобы посмотреть на скомпилированный вариант вашего файла. 
	
	**Внимание! При просмотре файла на github.com не будут обработаны номера страниц, сноски и надстрочный текст. Не пугайтесь, всё будет хорошо.**
5. Введите имя файла в поле `Name your file...` над основным текстом. Желательно придерживаться той же схемы именования, которая используется для [существующих транскрипций](https://github.com/hda-technical/dancebooks/tree/master/transcriptions).
5. В описании текста ниже укажите, какую книгу вы транскрибируете (можно просто приложить ссылку на библиографию).
6. Укажите, пожалуйста, своё полное имя. Вы будете указаны автором транскрипции на сайте библиографии.
7. Под текстом выберите пункт `Create a new branch for this commit and start a pull request`. Нажмите на кнопку `Propose new file`.
8. Дождитесь появления вашей транскрипции на сайте библиографии. Добавление обычно занимает не более одного дня.
9. Принимайте благодарности.
